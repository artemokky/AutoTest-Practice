import org.junit.jupiter.api.Test;

import static com.codeborne.selenide.Selenide.open;
import static org.junit.jupiter.api.Assertions.assertTrue;


public class OkOpenTest {
    private static final String URL_OK = "https://ok.ru/";
    private static final String EMAIL_OK = "tamparamim@mail.ru";
    private static final String PASSWORD_OK = "kkMM231c9";

    @Test
    public void openOkRuTest() {
        openOkRu();
    }

    @Test
    public void NullAuthDataOkRuTest(){
        openOkRu();

        OkLoginPage loginPage = new OkLoginPage();
        loginPage.getLogInButton().submit();

        assertTrue(loginPage.
                getLogInErrorInfo().
                text().equals("Введите логин"));
    }

    @Test
    public void NullPasswordOkRuTest(){
        openOkRu();
        OkLoginPage loginPage = new OkLoginPage();

        loginPage.getEmailField().setValue(EMAIL_OK);
        loginPage.getLogInButton().submit();

        assertTrue(loginPage.
                getLogInErrorInfo().
                text().equals("Введите пароль"));
    }

    @Test
    public void WrongAuthDataOkRuTest() {
        openOkRu();
        OkLoginPage loginPage = new OkLoginPage();

        enterWrongEmailPassword(loginPage);

        assertTrue(loginPage.
                getLogInErrorInfo().
                text().equals("Неправильно указан логин и/или пароль"));
    }

    public void openOkRu() {
        open(URL_OK);
    }

    public void enterWrongEmailPassword(OkLoginPage loginPage){
        loginPage.getEmailField().setValue(EMAIL_OK);
        loginPage.getPasswordField().setValue(PASSWORD_OK);
        loginPage.getLogInButton().submit();
    }
}
